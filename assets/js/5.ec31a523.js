(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{176:function(t,s,a){t.exports=a.p+"assets/img/github-action.4fd4b71a.png"},177:function(t,s,a){t.exports=a.p+"assets/img/gitlab-code-quality.283c0a9a.png"},185:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this._self._c;return t("h1",{attrs:{id:"continuous-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#continuous-integration"}},[this._v("#")]),this._v(" Continuous Integration")])},function(){var t=this,s=t._self._c;return s("p",[t._v("You can run PHP Insights in your CI by defining a level you want to reach with the options "),s("code",[t._v("--min-quality")]),t._v(", "),s("code",[t._v("--min-complexity")]),t._v(", "),s("code",[t._v("--min-architecture")]),t._v(", "),s("code",[t._v("--min-style")]),t._v(".")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("./vendor/bin/phpinsights --no-interaction --min-quality"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" --min-complexity"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),t._v(" --min-architecture"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),t._v(" --min-style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("95")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Within Laravel")]),t._v("\nphp artisan insights --no-interaction --min-quality"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" --min-complexity"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),t._v(" --min-architecture"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),t._v(" --min-style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("95")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("Note")]),this._v(": The "),t("code",[this._v("--no-interaction")]),this._v(" option is mandatory when it's launched in CI to avoid prompts.")])},function(){var t=this._self._c;return t("p",[this._v("All others are optional, so if you want to focus only on style, add the "),t("code",[this._v("--min-style")]),this._v(" and forget others.")])},function(){var t=this._self._c;return t("h2",{attrs:{id:"disable-security-check"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#disable-security-check"}},[this._v("#")]),this._v(" Disable Security Check")])},function(){var t=this._self._c;return t("p",[this._v("In case you develop a library or a plugin, it could be compatible with a large panel of dependency versions.\nSo you can launch your "),t("code",[this._v("composer update")]),this._v(" with the "),t("code",[this._v("--prefer-lower")]),this._v(" flag to test these minimum versions.")])},function(){var t=this._self._c;return t("p",[this._v("As "),t("code",[this._v("phpinsights")]),this._v(" returns an exit error code if security issues are found, you can disable this check by adding the "),t("code",[this._v("--disable-security-check")]),this._v(" option:")])},function(){var t=this._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("./vendor/bin/phpinsights --no-interaction --disable-security-check\n")])])])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("Note")]),this._v(" : For a project inspection, you "),t("strong",[this._v("should")]),this._v(" never use this option to keep your project safe.")])},function(){var t=this._self._c;return t("p",[this._v("If you use Github Action, you can launch PHP Insights with the "),t("code",[this._v("--format=github-action")]),this._v(" option.\nWith that, annotations with issues will be added in the Pull request.")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#.github/workflows/pr.yml")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CI\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" pull_request\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("phpinsights")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PHP Insights checks\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v2\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" shivammathur/setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("php@v2\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("php-version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.0")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" composer install "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("prefer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dist "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("progress "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("suggest\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vendor/bin/phpinsights "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ansi "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("format=github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action\n")])])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(176),alt:"example with github action"}})])},function(){var t=this._self._c;return t("p",[this._v("If you use GitLab, you can launch PHP Insights with the "),t("code",[this._v("--format=codeclimate")]),this._v(" option.\nWith that, annotations with issues will be added in a merge request with Code Quality.")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#.gitlab-ci.yml")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("insights")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" vendor/bin/phpinsights "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ansi "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("format=codeclimate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" codeclimate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("report.json\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifacts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("codequality")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" codeclimate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("report.json\n")])])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(177),alt:"example with gitlab code quality"}})])}],e=a(0),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("If the minimum level defined is not reached, the console will return an exit error code.")]),t._v(" "),t._m(2),s("p",[t._v("These options can also be found in the configuration file, so no arguments need to be passed when calling the command.\nCommand arguments have higher priority than configuration values.")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),s("h2",{attrs:{id:"github-action"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-action"}},[t._v("#")]),t._v(" Github Action "),s("Badge",{attrs:{text:"^1.13"}})],1),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),s("h2",{attrs:{id:"gitlab-code-quality"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-code-quality"}},[t._v("#")]),t._v(" GitLab Code Quality "),s("Badge",{attrs:{text:"^2.0"}})],1),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15)])}),n,!1,null,null,null);s.default=r.exports}}]);